{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\Projects\\\\myKeep\\\\Client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\Projects\\\\myKeep\\\\Client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Header from\"./Header\";import Footer from\"./Footer\";import Note from\"./Note\";import CreateArea from\"./CreateArea\";import axios from\"axios\";import LogIn from\"./LogIn\";var apiUrl=process.env.REACT_APP_API_URL;function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),token=_useState4[0],setToken=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];useEffect(function(){if(name){axios.get(\"\".concat(apiUrl,\"/\").concat(name)).then(function(response){return setNotes(response.data);}).catch(function(error){return console.log(error);});}// fetch('http://localhost:4200/')\n// .then(response => response.json())\n// .then(data => {\n//   // Handle successful response\n//   console.log(data);\n//   setNotes(() => {\n//     return data;\n//   });\n// })\n// .catch(error => {\n//   // Handle error\n//   console.log(error);\n// });\n},[name]);function checkUser(validUser){setName(validUser);setToken(true);}function addNote(newNote){axios.post(\"\".concat(apiUrl,\"/add/\").concat(name),{title:newNote.title,desc:newNote.desc}).then(function(response){// Handle successful response\nsetNotes(function(){return[response.data];});}).catch(function(error){// Handle error\nconsole.log(error);});// setNotes((prev) => {\n//   return [...prev, newNote];\n// });\nconsole.log(notes);}function delNote(title){axios.delete(\"\".concat(apiUrl,\"/del/\").concat(title),{data:{name:name}// Add the \"name\" parameter as data in the request body\n}).then(function(response){// Handle successful response\nconsole.log(response.data);}).catch(function(error){// Handle error\nconsole.log(error);});// setNotes((prev) => {\n//   return prev.filter((noteItem) => {\n//     return title !== noteItem.title;\n//   });\n// });\nsetNotes(function(prev){return prev.map(function(noteItem){if(noteItem.Name===name){// Filter out the specific title for the specific name\nreturn _objectSpread(_objectSpread({},noteItem),{},{Content:noteItem.Content.filter(function(contentItem){return contentItem.title!==title;})});}else{return noteItem;}});});}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null),token?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CreateArea,{onAdd:addNote}),notes.map(function(obj){return obj.Content.map(function(item,index){return/*#__PURE__*/React.createElement(Note,{delete:delNote,key:index,id:index,title:item.title,content:item.desc});});})):/*#__PURE__*/React.createElement(LogIn,{User:checkUser}),/*#__PURE__*/React.createElement(Footer,null));}export default App;","map":{"version":3,"names":["React","useEffect","useState","Header","Footer","Note","CreateArea","axios","LogIn","apiUrl","process","env","REACT_APP_API_URL","App","_useState","_useState2","_slicedToArray","notes","setNotes","_useState3","_useState4","token","setToken","_useState5","_useState6","name","setName","get","concat","then","response","data","catch","error","console","log","checkUser","validUser","addNote","newNote","post","title","desc","delNote","delete","prev","map","noteItem","Name","_objectSpread","Content","filter","contentItem","createElement","Fragment","onAdd","obj","item","index","key","id","content","User"],"sources":["C:/Users/ASUS/Desktop/Projects/myKeep/Client/src/components/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Note from \"./Note\";\nimport CreateArea from \"./CreateArea\";\nimport axios from \"axios\";\nimport LogIn from \"./LogIn\";\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\nfunction App() {\n  const [notes, setNotes] = useState([]);\n  const [token, setToken] = useState(false);\n  const [name, setName] = useState(\"\");\n\n  useEffect(() => {\n    if (name) {\n      axios\n        .get(`${apiUrl}/${name}`)\n        .then((response) => setNotes(response.data))\n        .catch((error) => console.log(error));\n    }\n\n    // fetch('http://localhost:4200/')\n    // .then(response => response.json())\n    // .then(data => {\n    //   // Handle successful response\n    //   console.log(data);\n    //   setNotes(() => {\n    //     return data;\n    //   });\n    // })\n    // .catch(error => {\n    //   // Handle error\n    //   console.log(error);\n    // });\n  }, [name]);\n\n  function checkUser(validUser) {\n    setName(validUser);\n    setToken(true);\n  }\n\n  function addNote(newNote) {\n    axios\n      .post(`${apiUrl}/add/${name}`, {\n        title: newNote.title,\n        desc: newNote.desc,\n      })\n      .then((response) => {\n        // Handle successful response\n        setNotes(() => {\n          return [response.data];\n        });\n      })\n      .catch((error) => {\n        // Handle error\n        console.log(error);\n      });\n\n    // setNotes((prev) => {\n    //   return [...prev, newNote];\n    // });\n    console.log(notes);\n  }\n\n  function delNote(title) {\n    axios\n      .delete(`${apiUrl}/del/${title}`, {\n        data: { name: name }, // Add the \"name\" parameter as data in the request body\n      })\n      .then((response) => {\n        // Handle successful response\n        console.log(response.data);\n      })\n      .catch((error) => {\n        // Handle error\n        console.log(error);\n      });\n\n    // setNotes((prev) => {\n    //   return prev.filter((noteItem) => {\n    //     return title !== noteItem.title;\n    //   });\n\n    // });\n\n    setNotes((prev) => {\n      return prev.map((noteItem) => {\n        if (noteItem.Name === name) {\n          // Filter out the specific title for the specific name\n          return {\n            ...noteItem,\n            Content: noteItem.Content.filter((contentItem) => {\n              return contentItem.title !== title;\n            }),\n          };\n        } else {\n          return noteItem;\n        }\n      });\n    });\n  }\n  return (\n    <div>\n      <Header />\n\n      {token ? (\n        <>\n          <CreateArea onAdd={addNote} />\n          {notes.map((obj) =>\n            obj.Content.map((item, index) => {\n              return (\n                <Note\n                  delete={delNote}\n                  key={index}\n                  id={index}\n                  title={item.title}\n                  content={item.desc}\n                />\n              );\n            })\n          )}\n        </>\n      ) : (\n        <LogIn User={checkUser} />\n      )}\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}